options:
  profile: True
  scalar_type: float
  n_threads: 1
  b_cols: 128
  output_file: profiled_transformer_magnitude_results_70_l2_blocking.csv
  save_tuning_results: False
  expand_config_parameters: [ m_tile, k_tile, n_tile ]

tuning:
  parameter_grids:
    - name: MKN_Grid
      m_tile: [ 8, 16, 32, 64 ]
      k_tile: [ 64, 128, 256 ]
      n_tile: [ 64, 128 ]

    - name: MN_Grid
      m_tile: [ 8, 16, 32, 64 ]
      n_tile: [ 64, 128 ]

    - name: MKN_Grid_DCSB
      m_tile: [ 8, 16, 32, 64 ]
      k_tile: [ 64, 128, 256 ]
      n_tile: [ 64, 128 ]

    - name: MKN_Grid_DCSB_CSC
      m_tile: [ 8, 16, 32, 64 ]
      k_tile: [ 64, 128, 256 ]
      n_tile: [ 64, 128 ]

methods:
  - name: MKL_Executor_Only
    method_id: mkl
    options:
      inspector: False

  - name: MKL_Dense
    method_id: mkl_dense

  - name: DCSB_CSR_8BIT
    method_id: dcsb
    options:
      vec_width: 512
      8bit_row_ptrs: True
      storage: CSR
    tune:
      grid: MKN_Grid_DCSB

  - name: DCSB_CSR_8BIT_256
    method_id: dcsb
    options:
      vec_width: 256
      8bit_row_ptrs: True
      storage: CSR
    tune:
      grid: MKN_Grid_DCSB

  - name: DCSB_CSR_16BIT
    method_id: dcsb
    options:
      vec_width: 512
      8bit_row_ptrs: False
      storage: CSR
    tune:
      grid: MKN_Grid_DCSB


matrices:
  filelist: ../../tools/filelists/transformer_magnitude_70.txt
