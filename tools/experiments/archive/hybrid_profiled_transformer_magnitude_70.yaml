options:
  profile: False
  scalar_type: float
  n_threads: 8
  b_cols: [ 64, 128, 256 ]
  output_file: hybrid_profiled_transformer_magnitude_results_70.csv
  save_tuning_results: False
  expand_config_parameters: [ m_tile, k_tile, n_tile ]

tuning:
  parameter_grids:
    - name: MKN_Grid_DCSB
      m_tile: [ 32, 48, 56, 64 ]
      k_tile: [ 32, 48, 56, 64 ]
      n_tile: [ 64, 128 ]

    - name: MKN_Grid_SOP
      m_tile: [ 8, 16, 32, 64 ]
      k_tile: [ 4096, 256, 128 ]
      n_tile: [ 64, 128 ]

    - name: MKN_Grid_SOP_2
      m_tile: [ 8, 16, 32, 64 ]
      k_tile: [ 4096, 256, 128, 64, 32 ]
      n_tile: [ 32, 64, 128 ]

methods:
  - name: MKL_Dense
    method_id: mkl_dense

  - name: MKL_Sparse
    method_id: mkl
    options:
      inspector: False

  - name: MKL_Sparse_IE
    method_id: mkl
    options:
      inspector: True

  - name: DCSB_CSR_8BIT
    method_id: dcsb
    options:
      vec_width: 512
      8bit_row_ptrs: False
      storage: CSR
    config:
      m_tile: 64
      k_tile: 64
      n_tile: 64

  - name: SOP_4
    method_id: sop
    options:
      vec_width: 512
      vec_height: 4
    tune:
      grid: MKN_Grid_SOP

  - name: SOP_8
    method_id: sop
    options:
      vec_width: 512
      vec_height: 8
    tune:
      grid: MKN_Grid_SOP_2

  #
  # Percentage Based
  #

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_50_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_50_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_50_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_40_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_40_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_40_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_35_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_35_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_35_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_30_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_30_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.PERCENTAGE_30_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64


  #
  # Row Based
  #

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_35_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_35_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_35_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_33_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_33_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_33_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_30_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_30_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_30_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_28_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_28_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_28_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64


  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_25_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_25_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.ROW_BASED_25_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  #
  # Agg Row
  #

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_8_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_8_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_8_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_16_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_16_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_16_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_32_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_32_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_25_32_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_8_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_8_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_8_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_16_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_16_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_16_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_32_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_32_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_28_32_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_8_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_8_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_8_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_16_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_16_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_16_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_32_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_32_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_30_32_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_8_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_8_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_8_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_16_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_16_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_16_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_32_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_32_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_33_32_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_2_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_2_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_2_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_8_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_8_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_8_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_16_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_16_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_16_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_32_32.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_32_64.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

  - name: HYBRID
    method_id: hyb
    options:
      metadata_file_suffix: _hyb_PACK_TYPE.AGG_ROW_35_32_128.hyb_tiles
      vec_width: 512
      8bit_row_ptrs: False
    config:
      n_tile: 64

matrices:
  filelist: ../../tools/filelists/hybrid_file_list.txt
